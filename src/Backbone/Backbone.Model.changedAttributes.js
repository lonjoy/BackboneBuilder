    // Return an object containing all the attributes that have changed, or    // false if there are no changed attributes. Useful for determining what    // parts of a view need to be updated and/or what attributes need to be    // persisted to the server. Unset attributes will be set to undefined.    // You can also pass an attributes object to diff against the model,    // determining if there *would be* a change.    changedAttributes: function(diff) {      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;      var val, changed = false;      var old = this._changing ? this._previousAttributes : this.attributes;      for (var attr in diff) {        if (_.isEqual(old[attr], (val = diff[attr]))) continue;        (changed || (changed = {}))[attr] = val;      }      return changed;    }